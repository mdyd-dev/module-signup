---
slug: reset-password
max_deep_level: 1
authorization_policies:
  - not_logged_in
metadata:
  title: Password reset
  stylesheets:
    - autogenerated/onboarding.css
---
<div class="hero-image">
  <img src="{{ 'images/hero/hero-login.svg' | asset_url }}" width="105" height="105" aria-hidden="true">
</div>

{%- query_graph 'get_user_with_password_token', email: params.email, result: g -%}
{% assign user = g.people.results.first %}
{% assign token_valid = params.token | is_token_valid: user.id %}
{% if user.id == blank or token_valid == false or user.default.password_token != params.token %}
  <p>Unfortunately, provided token is not valid anymore. Please <a href="/recover-password">request password instructions again</a>.</p>
{% else %}
  {% render_form 'reset_password', resource_id: @user.id %}
{% endif %}
